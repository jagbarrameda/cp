fun main() {
    var t = readln().toInt()
    while (t-- > 0) {
        val n = readln().toInt()
        val a = readln().split(" ").map { it.toInt() }.toIntArray()
        var ans = 0
        var dp = mutableSetOf<Long>()
        dp.add(0)
        var acc = 0L
        for (i in 0 until n) {
            acc += a[i]
            if (dp.contains(acc)) {
                ans++
                dp = mutableSetOf()
                acc = 0L
                dp.add(acc)
            } else {
                dp.add(acc)
            }
        }
        println(ans)
    }
}

/*
46
2
1 -3
5
-3 -2 -3 5 1
2
0 -5
2
-4 2
1
-3
2
-1 -3
2
0 -5
1
5
1
3
3
5 4 -5
3
5 0 0
5
-1 4 4 0 0
3
1 2 4
5
-2 2 -3 -5 -5
2
4 -1
1
1
5
3 -3 -4 1 1
1
1
5
-1 2 -3 -4 3
4
2 -1 4 3
2
-5 -3
5
5 2 -4 -1 4
4
-1 -3 0 -2
1
-4
2
-3 -1
2
1 0
2
3 1
1
-3
3
0 -5 -5
3
4 -3 -4
4
1 3 1 -5
4
-1 -4 -1 -3
5
0 -2 -5 1 -1
2
-5 -3
1
4
1
2
4
4 0 -3 -4
3
0 0 4
3
4 4 2
4
-3 0 2 3
4
5 -5 2 -5
2
-3 1
3
4 5 0
1
1
5
-3 5 0 4 2
2
4 -4

0110001000220100100000100100101020001201101011
0110001000220100100000100100101020001201101011
0110001000220100100000100100101020001201101011
0110001000220100100000100100101020001201101011
0110001000220100100000100100101020001201101011
0110001000220100100000100100101020001201101011
*/