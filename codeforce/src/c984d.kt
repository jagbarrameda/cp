import kotlin.math.min

fun main() {
    var t = readln().toInt()
    while (t-- > 0) {
        val (n, m) = readln().split(" ").map { it.toInt() }
        val c = Array(n) { readln().toCharArray() }
        var ans = 0
        var level = 0
        while (level < min(n / 2, m / 2)) {
            val line = CharArray(2 * n + 2 * m + 3)
            var k = 0
            var i = level
            var j = level
            while (j < m - 1 - level) {
                line[k++] = c[i][j]
                j++
            }
            while (i < n - 1 - level) {
                line[k++] = c[i][j]
                i++
            }
            while (j >= level + 1) {
                line[k++] = c[i][j]
                j--
            }
            while (i > level) {
                line[k++] = c[i][j]
                i--
            }
            line[k++] = line[0]
            line[k++] = line[1]
            line[k++] = line[2]


            for (h in 0 until k) {
                if (line[h] == '1' && line[h + 1] == '5' && line[h + 2] == '4' && line[h + 3] == '3')
                    ans++
            }
//            println("checked ${line.joinToString()}, ans: $ans")
            level++
        }
        println(ans)
    }
}

/*
1
148 8
81874920
00509770
05918920
21494462
57918310
38047967
65145369
50816651
56430755
55024810
42618205
40606334
97794371
07557771
16218465
44537977
86839562
42921652
20434209
75446137
74291818
00216761
72644651
39820199
51899972
99386116
37285998
87201198
40749489
31923006
94643843
77380475
46163978
26078267
82110740
69876742
67898570
30012683
01431137
23683219
91877502
52408430
69370863
23355447
64659677
83988416
34565199
62429017
47454144
73559633
81874920
00509770
05918920
21494462
57918310
38047967
65145369
50816651
56430755
55024810
42618205
40606334
97794371
07557771
16218465
44537977
86839562
42921652
20434209
75446137
74291818
00216761
72644651
39820199
51899972
99386116
37285998
87201198
40749489
31923006
94643843
77380475
46163978
26078267
82110740
69876742
67898570
30012683
01431137
23683219
91877502
52408430
69370863
23355447
64659677
83988416
34565199
62429017
47454144
73559633
81874920
00509770
05918920
21494462
57918310
38047967
65145369
50816651
56430755
55024810
42618205
40606334
97794371
07557771
16218465
44537977
86839562
42921652
20434209
75446137
74291818
00216761
72644651
39820199
51899972
99386116
37285998
87201198
40749489
31923006
94643843
77380475
46163978
26078267
82110740
69876742
67898570
30012683
01431137
23683219
91877502
52408430
69370863
23355447
64659677
83988416
34565199
62423451

 */